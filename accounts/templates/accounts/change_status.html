<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Смена статуса заявки</title>
</head>
<body>
    <h1>Смена статуса заявки</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <label for="status">Выберите новый статус:</label>
        <select name="status" id="status">
            <option value="in_progress">Принято в работу</option>
            <option value="completed">Выполнено</option>
        </select>
        <div id="in_progress_section" style="display: none;">
            <label for="comment">Комментарий:</label>
            <textarea name="comment" id="comment"></textarea>
        </div>
        <div id="completed_section" style="display: none;">
            <label for="design_image">Изображение дизайна:</label>
            <input type="file" name="design_image" id="design_image">
        </div>
        <button type="submit">Изменить статус</button>
    </form>
    <script>
        document.getElementById('status').addEventListener('change', function() {
            document.getElementById('in_progress_section').style.display = this.value === 'in_progress' ? 'block' : 'none';
            document.getElementById('completed_section').style.display = this.value === 'completed' ? 'block' : 'none';
        });
    </script>
</body>
</html>
